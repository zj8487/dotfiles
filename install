#!/bin/bash
set -e

echo "---- INSTALLING: setting up folder structure"
mkdir -p ~/local ~/src ~/.ssh ~/.npm ~/tmp
sudo chown -R magnus /usr/local ~/tmp ~/.npm

echo "---- INSTALLING: setting up keyboard preferences"
sudo cp ~/dotfiles/keyboard /etc/default/keyboard

echo "---- INSTALLING: symlinks"
ln -fs ~/dotfiles/bash/bashrc ~/.bashrc
ln -fs ~/dotfiles/git/gitconfig ~/.gitconfig
ln -fs ~/dotfiles/emacs/emacs ~/.emacs
ln -fs ~/dotfiles/xinitrc ~/.xinitrc
ln -fs ~/dotfiles/ssh/config ~/.ssh/config
ln -fs ~/dotfiles/lubuntu-rc.xml ~/.config/openbox/lubuntu-rc.xml
sudo ln -fs ~/dotfiles/bash/e /usr/bin/e
sudo ln -fs ~/dotfiles/rc.local /etc/rc.local

source ~/dotfiles/install-common
source ~/dotfiles/install-emacs
source ~/dotfiles/install-node
source ~/dotfiles/install-npm-modules
source ~/dotfiles/install-pidgin
source ~/dotfiles/install-ssh
